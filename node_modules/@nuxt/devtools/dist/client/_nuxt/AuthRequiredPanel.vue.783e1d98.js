import{g as y,a5 as x,ap as n,bc as _,z as l,r as m,q as c,h as g,w as d,a1 as w,o as A,b as s,a as e,d as i,I as N,aN as q,aX as T,bd as V,j as B,J as C,a8 as D}from"./entry.11fe2cd7.js";import{_ as I}from"./NIconButton.vue.b41ef4b9.js";import{_ as P}from"./NPanelGrids.16564aae.js";const $=e("h3",{class:"mb2 text-lg font-medium leading-6",flex:"~ items-center gap-1","text-orange":""},[e("span",{class:"i-carbon-information-square"}),i(" Permissions required ")],-1),K=e("p",null," This operation requires permissions for running command and access files from the browser. ",-1),S=e("p",null,[i(" A request is sent to the server."),e("br"),i(" Please check your terminal for the instructions and then come back. ")],-1),j={flex:"~ gap-3",mt2:"","justify-end":""},z=e("p",null,"Or you can manually paste the token here:",-1),F=["onSubmit"],J=y({__name:"AuthRequiredPanel",setup(M){x(async()=>{n.value||_.value&&await l.verifyAuthToken(_.value)&&(n.value=!0),n.value||l.requestForAuth()});const o=m(""),r=m(!1);async function u(){const t=o.value.trim();r.value=!1,await l.verifyAuthToken(t).then(a=>{a?(n.value=!0,V(t)):r.value=!0})}return(t,a)=>{const f=B,p=C,h=I,v=D,k=P;return("isDevAuthed"in t?t.isDevAuthed:c(n))?w(t.$slots,"default",{key:1}):(A(),g(k,{key:0},{default:d(()=>[s(v,{flex:"~ col gap-2",mxa:"","items-center":"",p6:"","text-center":""},{default:d(()=>[$,K,S,e("div",j,[s(f,{disabled:"",icon:"i-carbon-time"},{default:d(()=>[i(" Waiting for authorization... ")]),_:1})]),z,e("form",{flex:"~ inline gap-2 items-center",onSubmit:T(u,["prevent"])},[s(p,{modelValue:c(o),"onUpdate:modelValue":a[0]||(a[0]=b=>N(o)?o.value=b:null),placeholder:"Enter token here",n:c(r)?"red":void 0,onKeydown:q(u,["enter"])},null,8,["modelValue","n","onKeydown"]),s(h,{icon:"i-carbon-arrow-right",onClick:u})],40,F)]),_:1})]),_:1}))}}});export{J as _};
